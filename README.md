# 🎵 Simple TubeMusic Downloader

> **PySide6와 yt-dlp를 활용한 개인용 음원 추출 GUI 도구**

---

### 🛠 사용 기술 (Tech Stack)
- **Language:** Python 3.13.5
- **GUI:** PySide6
- **Engine:** yt-dlp
- **Tool:** VS Code, Git

---

### 📺 시연 영상 (Demo)
![시연영상](assets/demo.gif)
> *실제로 작동하는 모습을 담은 GIF입니다. 클립보드 감지 및 다운로드 기능을 확인할 수 있습니다.*

---

### ✨ 구현 및 확인 사항 (Key Features)

*   **URL 입력 제한 (Regex)**
    - 정규표현식을 사용하여 유튜브 주소 형식에 맞지 않는 입력이 들어오지 않도록 기초적인 필터링을 적용했습니다.
*   **클립보드 감시**
    - 사용자가 주소를 복사하면 프로그램 리스트에 자동으로 추가되는 편의 기능을 구현했습니다.
*   **UI 멈춤 방지 (Multithreading)**
    - 다운로드 중에 창이 멈추지 않도록 스레드를 분리하여 기본적인 UI 반응성을 챙겼습니다.

---

### 🛡️ 입력 데이터 유효성 검증 (Input Validation)
사용자로부터 입력받은 URL이 올바른 유튜브 주소인지 정규표현식을 통해 1차 검증을 수행합니다.

- **Regex:** `r"https?://(?:www\.)?(?:youtube\.com/watch\?v=[\w-]+|youtu\.be/[\w-]+)"`
- **검증 목적:** 비정상적인 URL 입력으로 인한 프로그램 런타임 오류 방지 및 시스템 안정성 확보.
---
### 📋 클립보드 이벤트 모니터링 (Clipboard Monitoring)

사용자가 URL을 수동으로 입력(Copy & Paste)하는 번거로움을 줄이기 위해, 시스템 클립보드 변화를 감지하여 유효한 URL을 자동으로 리스트업하는 기능을 구현했습니다.

*  **동작 방식:**
   - 시스템 클립보드의 dataChanged 시그널을 감시하는 이벤트 핸들러 구현.
   - 새로운 텍스트가 감지되면 즉시 Regex 검증 로직으로 전달하여 유효성 판단.
* **설계 의도 (UX/QA):**
   - 작업 효율화: 여러 영상을 다운로드할 때 '복사 후 프로그램 이동 및 붙여넣기'라는 반복 행동을 '복사' 한 단계로 단축.
   - 데이터 필터링: 클립보드에 복사된 모든 텍스트가 아닌, 정규표현식을 통과한 유효한 유튜브 URL만 선택적으로 수집하여 데이터 무결성 확보.

---

### 🧵 비동기 처리 및 동작 신뢰성 설계 (QThread)
사용자 경험과 시스템 안정성 사이의 균형을 위해 QThread를 활용한 단일 작업 스레드 방식을 채택했습니다.
 
*   **동작 방식:**
    - 메인 UI 스레드와 별개로 하나의 Worker Thread를 운영하여 다운로드 로직을 처리.
*   **설계 결정 (Single Tasking):**
    - 다중 다운로드 시 발생할 수 있는 네트워크 대역폭 고갈 및 저사양 환경(RPi Zero 2W)의 리소스 과부하 방지.
    - 데이터 무결성과 동작의 신뢰성을 최우선으로 하여 순차적 다운로드(Sequential Download) 방식으로 설계.
*   **효과:** 
    - 다운로드 중에도 GUI 응답성을 유지하며, 작업의 진행 상태를 실시간으로 정확하게 피드백 가능.
---

### ✅ 품질 확인 노력 (Quality Check)

*   **기본 UI 작동 확인**
    - `pytest-qt`를 공부하며 프로그램 실행 시 창 제목(Window Title)이 설계대로 뜨는지 확인하는 기초 테스트 코드를 작성해 보았습니다.
*   **수동 기능 점검**
    - URL 복사 시 리스트업이 잘 되는지, 실제 파일이 지정된 폴더에 m4a로 잘 저장되는지 반복적으로 직접 확인하며 개발했습니다.
*   **진행 상태 표시**
    - 다운로드 중 진행률(%)과 상태가 화면에 정상적으로 업데이트되는지 시각적으로 체크했습니다.

---

### 🧪 테스트 수행 및 학습 기록
- **단위 테스트 수행 결과:** 
Pytest를 활용하여 초기 GUI 윈도우 타이틀 및 컴포넌트 정합성 검증 완료
![pytest_result](assets/pytest_result.png)

- **진행 중:** Mock 객체를 활용하여 네트워크 통신 없이 UI 업데이트 로직을 독립적으로 검증하는 '단위 테스트' 학습 및 적용 중

### 👨‍💻 참고 사항
- **개발:** TheSimplist-KOR
- **참고:** 이 프로그램은 학습을 목적으로 제작된 개인 프로젝트입니다. 저작권 준수를 위해 개인적인 용도로만 사용하며 외부 배포는 하지 않습니다.